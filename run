#!/bin/bash

if [ "$1" == "install" ];
then
	pip install GitPython
	python3 setup.py
	npm install typescript
	npm install fs
	npm install readline
	npm install python-shell
	npm install dotenv
	npm install @octokit/rest
	npm install @octokit/core
	npm install @octokit/request
	npm install types
	npm i --save-dev @types/node
	npm install jest@20.0.0
	npm i --save-dev babel-jest @babel/core @babel/preset-env @babel/preset-typescript ts-jest @types/jest
	curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
	export NVM_DIR="$HOME/.nvm"
	[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
	[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"
	nvm install v18.14.0
	nvm use v18.14.0
	run code snippet

elif [ "$1" == "build" ];
then
	tsc src/npmToGithub.ts
	tsc src/licAndResp.ts
	tsc src/busfactor.ts
	tsc test/busfactor.test.ts
	tsc licAndResp.test.ts
elif [ "$1" == "test" ];
then
	echo Beginning test process
	npm run test
else
	node src/npmToGithub.js $1
	python3 fileCounter.py
	 
fi

